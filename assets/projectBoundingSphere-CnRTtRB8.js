import{bZ as R,b_ as h,b$ as l,c0 as p,c1 as U,c2 as b,c3 as d,aU as M,c4 as j}from"./index-FjkLmFqq.js";function V(r,o,t,c){if(o==null||c==null)return!1;const s=R(o,c);if(s?.projector==null)return!1;if(s.projector===h)return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3]),!0;const{source:e,dest:f,projector:$}=s;if(f.spatialReferenceId===3){const n=l[e.spatialReferenceId][2];if(n==null)return!1;n(p(r),0,I,0),U(I,0,a,0);const u=m(I[1],r[2],r[3],b.radius);return d(t,a,u),!0}if(e.spatialReferenceId!==2&&e.spatialReferenceId!==5||f.spatialReferenceId!==11){$(p(r),0,a,0);const n=e.metersPerUnit??1,u=f.metersPerUnit??1,i=r[3]*n/u;d(t,a,i)}else{const n=l[e.spatialReferenceId][1],u=l[1][11];let i=r[3];n!=null&&u!=null&&(i=m(r[1],r[2],r[3],b.radius)),$(p(r),0,a,0),d(t,a,i)}return!0}function m(r,o,t,c){const s=c+o;if(s<c/2||t>s)return Number.MAX_VALUE;const e=Math.abs(A*r)+Math.asin(t/s);return e>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(e)}const I=M(),a=M(),A=j(1);export{V as l};
